{"remainingRequest":"/Users/paulzhao/ask-around-me/ask-around-me/frontend/node_modules/thread-loader/dist/cjs.js!/Users/paulzhao/ask-around-me/ask-around-me/frontend/node_modules/babel-loader/lib/index.js!/Users/paulzhao/ask-around-me/ask-around-me/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/paulzhao/ask-around-me/ask-around-me/frontend/src/auth/index.js","dependencies":[{"path":"/Users/paulzhao/ask-around-me/ask-around-me/frontend/src/auth/index.js","mtime":1594664018277},{"path":"/Users/paulzhao/ask-around-me/ask-around-me/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/paulzhao/ask-around-me/ask-around-me/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/paulzhao/ask-around-me/ask-around-me/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/paulzhao/ask-around-me/ask-around-me/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvcGF1bHpoYW8vYXNrLWFyb3VuZC1tZS9hc2stYXJvdW5kLW1lL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICIvVXNlcnMvcGF1bHpoYW8vYXNrLWFyb3VuZC1tZS9hc2stYXJvdW5kLW1lL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllcyI7Ci8vIENvZGUgY29waWVkIGZyb20KLy8gaHR0cHM6Ly9hdXRoMC5jb20vZG9jcy9xdWlja3N0YXJ0L3NwYS92dWVqcy8wMS1sb2dpbiNjb25maWd1cmUtbG9nb3V0LXVybHMKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgY3JlYXRlQXV0aDBDbGllbnQgZnJvbSAiQGF1dGgwL2F1dGgwLXNwYS1qcyI7CmltcG9ydCB7IGJ1cyB9IGZyb20gJy4uL21haW4nOwovKiogRGVmaW5lIGEgZGVmYXVsdCBhY3Rpb24gdG8gcGVyZm9ybSBhZnRlciBhdXRoZW50aWNhdGlvbiAqLwoKdmFyIERFRkFVTFRfUkVESVJFQ1RfQ0FMTEJBQ0sgPSBmdW5jdGlvbiBERUZBVUxUX1JFRElSRUNUX0NBTExCQUNLKCkgewogIHJldHVybiB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpOwp9OwoKdmFyIGluc3RhbmNlOwovKiogUmV0dXJucyB0aGUgY3VycmVudCBpbnN0YW5jZSBvZiB0aGUgU0RLICovCgpleHBvcnQgdmFyIGdldEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0SW5zdGFuY2UoKSB7CiAgcmV0dXJuIGluc3RhbmNlOwp9OwovKiogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGUgQXV0aDAgU0RLLiBJZiBvbmUgaGFzIGFscmVhZHkgYmVlbiBjcmVhdGVkLCBpdCByZXR1cm5zIHRoYXQgaW5zdGFuY2UgKi8KCmV4cG9ydCB2YXIgdXNlQXV0aDAgPSBmdW5jdGlvbiB1c2VBdXRoMChfcmVmKSB7CiAgdmFyIF9yZWYkb25SZWRpcmVjdENhbGxiYSA9IF9yZWYub25SZWRpcmVjdENhbGxiYWNrLAogICAgICBvblJlZGlyZWN0Q2FsbGJhY2sgPSBfcmVmJG9uUmVkaXJlY3RDYWxsYmEgPT09IHZvaWQgMCA/IERFRkFVTFRfUkVESVJFQ1RfQ0FMTEJBQ0sgOiBfcmVmJG9uUmVkaXJlY3RDYWxsYmEsCiAgICAgIF9yZWYkcmVkaXJlY3RVcmkgPSBfcmVmLnJlZGlyZWN0VXJpLAogICAgICByZWRpcmVjdFVyaSA9IF9yZWYkcmVkaXJlY3RVcmkgPT09IHZvaWQgMCA/IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gOiBfcmVmJHJlZGlyZWN0VXJpLAogICAgICBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsib25SZWRpcmVjdENhbGxiYWNrIiwgInJlZGlyZWN0VXJpIl0pOwoKICBpZiAoaW5zdGFuY2UpIHJldHVybiBpbnN0YW5jZTsgLy8gVGhlICdpbnN0YW5jZScgaXMgc2ltcGx5IGEgVnVlIG9iamVjdAoKICBpbnN0YW5jZSA9IG5ldyBWdWUoewogICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsCiAgICAgICAgdXNlcjoge30sCiAgICAgICAgYXV0aDBDbGllbnQ6IG51bGwsCiAgICAgICAgcG9wdXBPcGVuOiBmYWxzZSwKICAgICAgICBlcnJvcjogbnVsbAogICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgLyoqIEF1dGhlbnRpY2F0ZXMgdGhlIHVzZXIgdXNpbmcgYSBwb3B1cCB3aW5kb3cgKi8KICAgICAgbG9naW5XaXRoUG9wdXA6IGZ1bmN0aW9uIGxvZ2luV2l0aFBvcHVwKG8pIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfdGhpcy5wb3B1cE9wZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5hdXRoMENsaWVudC5sb2dpbldpdGhQb3B1cChvKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwogICAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dC50MCk7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICAgICAgX3RoaXMucG9wdXBPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goOSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXV0aDBDbGllbnQuZ2V0VXNlcigpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICBfdGhpcy5pc0F1dGhlbnRpY2F0ZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA2LCA5LCAxMl1dKTsKICAgICAgICB9KSkoKTsKICAgICAgfSwKCiAgICAgIC8qKiBIYW5kbGVzIHRoZSBjYWxsYmFjayB3aGVuIGxvZ2dpbmcgaW4gdXNpbmcgYSByZWRpcmVjdCAqLwogICAgICBoYW5kbGVSZWRpcmVjdENhbGxiYWNrOiBmdW5jdGlvbiBoYW5kbGVSZWRpcmVjdENhbGxiYWNrKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYXV0aDBDbGllbnQuaGFuZGxlUmVkaXJlY3RDYWxsYmFjaygpOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmF1dGgwQ2xpZW50LmdldFVzZXIoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgIF90aGlzMi51c2VyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5pc0F1dGhlbnRpY2F0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICBidXMuJGVtaXQoJ2F1dGhlbnRpY2F0ZWQnLCBfdGhpczIudXNlcik7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmVycm9yID0gX2NvbnRleHQyLnQwOwoKICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJ1cy4kZW1pdCgnbG9hZGVkJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDE0KTsKCiAgICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAxMSwgMTQsIDE4XV0pOwogICAgICAgIH0pKSgpOwogICAgICB9LAoKICAgICAgLyoqIEF1dGhlbnRpY2F0ZXMgdGhlIHVzZXIgdXNpbmcgdGhlIHJlZGlyZWN0IG1ldGhvZCAqLwogICAgICBsb2dpbldpdGhSZWRpcmVjdDogZnVuY3Rpb24gbG9naW5XaXRoUmVkaXJlY3QobykgewogICAgICAgIHJldHVybiB0aGlzLmF1dGgwQ2xpZW50LmxvZ2luV2l0aFJlZGlyZWN0KG8pOwogICAgICB9LAoKICAgICAgLyoqIFJldHVybnMgYWxsIHRoZSBjbGFpbXMgcHJlc2VudCBpbiB0aGUgSUQgdG9rZW4gKi8KICAgICAgZ2V0SWRUb2tlbkNsYWltczogZnVuY3Rpb24gZ2V0SWRUb2tlbkNsYWltcyhvKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQuZ2V0SWRUb2tlbkNsYWltcyhvKTsKICAgICAgfSwKCiAgICAgIC8qKiBSZXR1cm5zIHRoZSBhY2Nlc3MgdG9rZW4uIElmIHRoZSB0b2tlbiBpcyBpbnZhbGlkIG9yIG1pc3NpbmcsIGEgbmV3IG9uZSBpcyByZXRyaWV2ZWQgKi8KICAgICAgZ2V0VG9rZW5TaWxlbnRseTogZnVuY3Rpb24gZ2V0VG9rZW5TaWxlbnRseShvKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQuZ2V0VG9rZW5TaWxlbnRseShvKTsKICAgICAgfSwKCiAgICAgIC8qKiBHZXRzIHRoZSBhY2Nlc3MgdG9rZW4gdXNpbmcgYSBwb3B1cCB3aW5kb3cgKi8KICAgICAgZ2V0VG9rZW5XaXRoUG9wdXA6IGZ1bmN0aW9uIGdldFRva2VuV2l0aFBvcHVwKG8pIHsKICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5nZXRUb2tlbldpdGhQb3B1cChvKTsKICAgICAgfSwKCiAgICAgIC8qKiBMb2dzIHRoZSB1c2VyIG91dCBhbmQgcmVtb3ZlcyB0aGVpciBzZXNzaW9uIG9uIHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciAqLwogICAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChvKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQubG9nb3V0KG8pOwogICAgICB9CiAgICB9LAoKICAgIC8qKiBVc2UgdGhpcyBsaWZlY3ljbGUgbWV0aG9kIHRvIGluc3RhbnRpYXRlIHRoZSBTREsgY2xpZW50ICovCiAgICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMzJGF1dGgwQ2wsIGFwcFN0YXRlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUF1dGgwQ2xpZW50KHsKICAgICAgICAgICAgICAgICAgZG9tYWluOiBvcHRpb25zLmRvbWFpbiwKICAgICAgICAgICAgICAgICAgY2xpZW50X2lkOiBvcHRpb25zLmNsaWVudElkLAogICAgICAgICAgICAgICAgICBhdWRpZW5jZTogb3B0aW9ucy5hdWRpZW5jZSwKICAgICAgICAgICAgICAgICAgcmVkaXJlY3RfdXJpOiByZWRpcmVjdFVyaQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMy5hdXRoMENsaWVudCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAzOwoKICAgICAgICAgICAgICAgIGlmICghKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoImNvZGU9IikgJiYgd2luZG93LmxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcygic3RhdGU9IikpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuYXV0aDBDbGllbnQuaGFuZGxlUmVkaXJlY3RDYWxsYmFjaygpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMzJGF1dGgwQ2wgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGFwcFN0YXRlID0gX3lpZWxkJF90aGlzMyRhdXRoMENsLmFwcFN0YXRlOwogICAgICAgICAgICAgICAgLy8gTm90aWZ5IHN1YnNjcmliZXJzIHRoYXQgdGhlIHJlZGlyZWN0IGNhbGxiYWNrIGhhcyBoYXBwZW5lZCwgcGFzc2luZyB0aGUgYXBwU3RhdGUKICAgICAgICAgICAgICAgIC8vICh1c2VmdWwgZm9yIHJldHJpZXZpbmcgYW55IHByZS1hdXRoZW50aWNhdGlvbiBzdGF0ZSkKICAgICAgICAgICAgICAgIG9uUmVkaXJlY3RDYWxsYmFjayhhcHBTdGF0ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEyOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgX3RoaXMzLmVycm9yID0gX2NvbnRleHQzLnQwOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmF1dGgwQ2xpZW50LmlzQXV0aGVudGljYXRlZCgpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX3RoaXMzLmlzQXV0aGVudGljYXRlZCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuYXV0aDBDbGllbnQuZ2V0VXNlcigpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX3RoaXMzLnVzZXIgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBidXMuJGVtaXQoJ2F1dGhlbnRpY2F0ZWQnLCBfdGhpczMudXNlcik7CiAgICAgICAgICAgICAgICBidXMuJGVtaXQoJ2xvYWRlZCcsIHRydWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goMTUpOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzMsIDEyLCAxNSwgMjZdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0pOwogIHJldHVybiBpbnN0YW5jZTsKfTsgLy8gQ3JlYXRlIGEgc2ltcGxlIFZ1ZSBwbHVnaW4gdG8gZXhwb3NlIHRoZSB3cmFwcGVyIG9iamVjdCB0aHJvdWdob3V0IHRoZSBhcHBsaWNhdGlvbgoKZXhwb3J0IHZhciBBdXRoMFBsdWdpbiA9IHsKICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKFZ1ZSwgb3B0aW9ucykgewogICAgVnVlLnByb3RvdHlwZS4kYXV0aCA9IHVzZUF1dGgwKG9wdGlvbnMpOwogIH0KfTs="},{"version":3,"sources":["/Users/paulzhao/ask-around-me/ask-around-me/frontend/src/auth/index.js"],"names":["Vue","createAuth0Client","bus","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","instance","getInstance","useAuth0","onRedirectCallback","redirectUri","origin","options","data","loading","isAuthenticated","user","auth0Client","popupOpen","error","methods","loginWithPopup","o","console","getUser","handleRedirectCallback","$emit","loginWithRedirect","getIdTokenClaims","getTokenSilently","getTokenWithPopup","logout","created","domain","client_id","clientId","audience","redirect_uri","search","includes","appState","Auth0Plugin","install","prototype","$auth"],"mappings":"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","sourcesContent":["\n\n// Code copied from\n// https://auth0.com/docs/quickstart/spa/vuejs/01-login#configure-logout-urls\n\n\nimport Vue from \"vue\"\nimport createAuth0Client from \"@auth0/auth0-spa-js\"\nimport { bus } from '../main'\n\n/** Define a default action to perform after authentication */\nconst DEFAULT_REDIRECT_CALLBACK = () =>\n  window.history.replaceState({}, document.title, window.location.pathname);\n\nlet instance;\n\n/** Returns the current instance of the SDK */\nexport const getInstance = () => instance;\n\n/** Creates an instance of the Auth0 SDK. If one has already been created, it returns that instance */\nexport const useAuth0 = ({\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\n  redirectUri = window.location.origin,\n  ...options\n}) => {\n  if (instance) return instance;\n\n  // The 'instance' is simply a Vue object\n  instance = new Vue({\n    data() {\n      return {\n        loading: true,\n        isAuthenticated: false,\n        user: {},\n        auth0Client: null,\n        popupOpen: false,\n        error: null\n      };\n    },\n    methods: {\n      /** Authenticates the user using a popup window */\n      async loginWithPopup(o) {\n        this.popupOpen = true;\n\n        try {\n          await this.auth0Client.loginWithPopup(o);\n        } catch (e) {\n          // eslint-disable-next-line\n          console.error(e);\n        } finally {\n          this.popupOpen = false;\n        }\n\n        this.user = await this.auth0Client.getUser();\n        this.isAuthenticated = true;\n      },\n      /** Handles the callback when logging in using a redirect */\n      async handleRedirectCallback() {\n        this.loading = true;\n        try {\n          await this.auth0Client.handleRedirectCallback();\n          this.user = await this.auth0Client.getUser();\n          this.isAuthenticated = true;\n          bus.$emit('authenticated', this.user)          \n        } catch (e) {\n          this.error = e;\n        } finally {\n          bus.$emit('loaded', true)\n          this.loading = false;\n        }\n      },\n      /** Authenticates the user using the redirect method */\n      loginWithRedirect(o) {\n        return this.auth0Client.loginWithRedirect(o);\n      },\n      /** Returns all the claims present in the ID token */\n      getIdTokenClaims(o) {\n        return this.auth0Client.getIdTokenClaims(o);\n      },\n      /** Returns the access token. If the token is invalid or missing, a new one is retrieved */\n      getTokenSilently(o) {\n        return this.auth0Client.getTokenSilently(o);\n      },\n      /** Gets the access token using a popup window */\n\n      getTokenWithPopup(o) {\n        return this.auth0Client.getTokenWithPopup(o);\n      },\n      /** Logs the user out and removes their session on the authorization server */\n      logout(o) {\n        return this.auth0Client.logout(o);\n      }\n    },\n    /** Use this lifecycle method to instantiate the SDK client */\n    async created() {\n      // Create a new instance of the SDK client using members of the given options object\n      this.auth0Client = await createAuth0Client({\n        domain: options.domain,\n        client_id: options.clientId,\n        audience: options.audience,\n        redirect_uri: redirectUri\n      });\n\n      try {\n        // If the user is returning to the app after authentication..\n        if (\n          window.location.search.includes(\"code=\") &&\n          window.location.search.includes(\"state=\")\n        ) {\n          // handle the redirect and retrieve tokens\n          const { appState } = await this.auth0Client.handleRedirectCallback();\n\n          // Notify subscribers that the redirect callback has happened, passing the appState\n          // (useful for retrieving any pre-authentication state)\n          onRedirectCallback(appState);\n        }\n      } catch (e) {\n        this.error = e;\n      } finally {\n        // Initialize our internal authentication state\n        this.isAuthenticated = await this.auth0Client.isAuthenticated();\n        this.user = await this.auth0Client.getUser();\n        this.loading = false;\n        bus.$emit('authenticated', this.user)          \n        bus.$emit('loaded', true) \n      }\n    }\n  });\n\n  return instance;\n};\n\n// Create a simple Vue plugin to expose the wrapper object throughout the application\nexport const Auth0Plugin = {\n  install(Vue, options) {\n    Vue.prototype.$auth = useAuth0(options);\n  }\n};"]}]}